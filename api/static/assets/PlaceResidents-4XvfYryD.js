import{d as b,r as d,f,e as u,c as o,a as e,b as y,v as k,t as m,i as R,F as g,m as x,l as E,o as l}from"./index-0XcAYui6.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"container mt-5"},N={class:"input-group mb-3"},V=["disabled"],B={key:0,class:"alert alert-danger text-center"},D={key:1,class:"alert alert-info text-center"},M={key:2},w={class:"table table-striped"},A=["onClick"],F=b({__name:"PlaceResidents",setup(P){const n=d([]),i=d(""),r=d(""),v=E(),c=d(v.params.id);f(()=>{p()});function p(){u.get(`/place/${c.value}/residents/`).then(({data:t})=>{n.value=t}).catch(t=>{console.error("Erro ao obter a lista de residentes:",t)})}function _(t){u.delete(`/place/${c.value}/residents/${t}`).then(()=>{n.value=n.value.filter(a=>a.id!==t)}).catch(a=>{console.error("Erro ao deletar o residente:",a)})}function h(){u.post(`/place/${c.value}/residents/`,{email:i.value}).then(t=>{n.value.push(t.data),i.value="",r.value=""}).catch(t=>{console.error("Erro ao adicionar o residente:",t),r.value="Não foi possível adicionar o residente. Verifique o email e tente novamente."})}return(t,a)=>(l(),o("div",$,[a[2]||(a[2]=e("h1",{class:"text-center"},"Residentes",-1)),e("div",N,[y(e("input",{type:"email",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=s=>i.value=s),placeholder:"Digite o email do residente","aria-label":"Email do Residente","aria-describedby":"button-addon2"},null,512),[[k,i.value]]),e("button",{class:"btn btn-primary",type:"button",id:"button-addon2",onClick:h,disabled:!i.value}," Adicionar ",8,V)]),r.value?(l(),o("div",B,m(r.value),1)):R("",!0),n.value.length===0?(l(),o("div",D," Nenhum residente encontrado. ")):(l(),o("div",M,[e("table",w,[a[1]||(a[1]=e("thead",null,[e("tr",null,[e("th",null,"Username"),e("th",null,"Email"),e("th",null,"Ação")])],-1)),e("tbody",null,[(l(!0),o(g,null,x(n.value,s=>(l(),o("tr",{key:s.id},[e("td",null,m(s.username),1),e("td",null,m(s.email),1),e("td",null,[e("a",{onClick:U=>_(s.id)},"excluir",8,A)])]))),128))])])]))]))}}),L=C(F,[["__scopeId","data-v-34875b3c"]]);export{L as default};
